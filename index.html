<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body{
            display: flex;
            flex-direction:column;
        }
        h1{
            margin-left: auto;
            margin-right: auto;
        }
        .input_board {
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 15px;
        }
        .input_board button{
            margin-left: auto;
            margin-right: auto;
        }
        
        #list {
            width: 300px;
            min-width: 300px;
            
            margin-left: auto;
            margin-right: auto;
            display: flex;
            flex-direction: column;
        }
        .result-element {
            display: flex;
            flex-direction: row;
            
            border: medium solid rgba(0,0,0,0.5);
            border-radius: 5px;
        }
        .re-rm {
            margin-left : 10%;
            margin-right: 10%
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    
    <script>
        const coefficient = {
            squat : [0, 1, 1.0475, 1.13, 1.1575, 1.2, 1.242, 1.284, 1.326, 1.368, 1.41],
            benchpress: [0, 1, 1.035, 1.08, 1.115, 1.15, 1.18, 1.22, 1.255, 1.29, 1.325],
            deadlift: [0, 1, 1.065, 1.13, 1.147, 1.164, 1.181, 1.198, 1.22, 1.232, 1.24]
        }
        
        function calculate(exercise, reps, weights){
            var rm1 = weights*((coefficient[exercise])[reps]);
            var data = [];
            for(let i=1; i < 11 ; i++){
                data[i] = rm1/coefficient[exercise][i];
            }
            return data;
            
        }
        
        function result_element(rm, weights){
            return ("<div class='result-element'>"+
                "<p class='re-rm'>"+rm+"RM</p>"+
                "<p class='re-we'>"+weights+"KG</p>"+
            "</div>");
        }
        function action(){
            const exercise = $('input[name=exercise]').val();
            const reps = parseInt($('input[name=reps]').val());
            const weights = parseFloat($('input[name=weights]').val());
            if(!exercise || !reps || ! weights){
                alert("모든 항목을 정확히 입력해주세요");
                return;
            }
            $('.result-element').remove();
            
            var list = calculate(exercise, reps, weights);
            for(let i=1; i < 11; i++){
                console.log(i);
                $('#list').append(result_element(i, list[i]));
            }
            
        }
    </script>
</head>
<body>
    <h1>NSCA 1RM 계산기</h1>
    <div class="input_board">
        <input name="exercise" placeholder="종목선택" list="selector_exercises"/>
        <datalist id="selector_exercises">
            <option value="squat"></option>
            <option value="benchpress"></option>
            <option value="deadlift"></option>
        </datalist>
        <input name="reps" placeholder="반복횟수" list="selector_reps"/>
        <datalist id="selector_reps">
            <option value="1"></option>
            <option value="2"></option>
            <option value="3"></option>
            <option value="4"></option>
            <option value="5"></option>
            <option value="6"></option>
            <option value="7"></option>
            <option value="8"></option>
            <option value="9"></option>
            <option value="10"></option>
        </datalist>
        <input name="weights" placeholder="무게(kg)" type="number"/>
        <button onClick="action()">계산하기</button>
    </div>
    <div id="list">
    </div>
</body>
</html>